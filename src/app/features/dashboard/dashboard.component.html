  <div class="dashboard-container">
      <!-- Header with Date Range Filter -->
      <div class="dashboard-header">
        <h1>Meetro Admin</h1>
        <div class="date-filters">
          <mat-form-field appearance="outline">
            <mat-label>Date Range</mat-label>
            <mat-select [formControl]="dateRangeControl" (selectionChange)="onDateRangeChange()">
              <mat-option value="week">Last 7 Days</mat-option>
              <mat-option value="month">Last 30 Days</mat-option>
              <mat-option value="custom">Custom Range</mat-option>
            </mat-select>
          </mat-form-field>
          
          @if (dateRangeControl.value === 'custom') {
            <mat-form-field appearance="outline">
              <mat-label>Start Date</mat-label>
              <input matInput [matDatepicker]="startPicker" [formControl]="startDateControl">
              <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
              <mat-datepicker #startPicker></mat-datepicker>
            </mat-form-field>
            
            <mat-form-field appearance="outline">
              <mat-label>End Date</mat-label>
              <input matInput [matDatepicker]="endPicker" [formControl]="endDateControl">
              <mat-datepicker-toggle matSuffix [for]="endPicker"></mat-datepicker-toggle>
              <mat-datepicker #endPicker></mat-datepicker>
            </mat-form-field>
            
            <button mat-raised-button color="primary" (click)="applyCustomDateRange()">
              Apply
            </button>
          }
        </div>
      </div>

      @if (loading()) {
        <div class="loading-container">
          <mat-spinner></mat-spinner>
          <p>Loading dashboard data...</p>
        </div>
      } @else {
        <!-- KPI Cards Grid -->
        <mat-grid-list cols="3" rowHeight="200px" gutterSize="16px" class="kpi-grid">
          @for (kpi of kpiCards(); track kpi.title) {
            <mat-grid-tile>
              <mat-card class="kpi-card" [class]="'kpi-' + kpi.color" (click)="navigateToModule(kpi.route)">
                <mat-card-content>
                  <div class="kpi-header">
                    <mat-icon [class]="'kpi-icon kpi-icon-' + kpi.color">{{ kpi.icon }}</mat-icon>
                    <div class="kpi-change" [class]="'change-' + kpi.changeType">
                      <mat-icon>{{ getChangeIcon(kpi.changeType) }}</mat-icon>
                      <span>{{ Math.abs(kpi.change) }}%</span>
                    </div>
                  </div>
                  <div class="kpi-content">
                    <h2 class="kpi-value">{{ formatKPIValue(kpi.value) }}</h2>
                    <p class="kpi-title">{{ kpi.title }}</p>
                  </div>
                </mat-card-content>
              </mat-card>
            </mat-grid-tile>
          }
        </mat-grid-list>

        <!-- Charts Section - Temporarily disabled due to missing NgChartsModule -->
        <!-- <div class="charts-section">
          <mat-card class="chart-placeholder">
            <mat-card-header>
              <mat-card-title>Charts Coming Soon</mat-card-title>
              <mat-card-subtitle>Chart functionality will be available once ng2-charts is properly configured</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>Analytics charts will be displayed here once the charting library is installed and configured.</p>
            </mat-card-content>
          </mat-card>
        </div> -->

        <!-- Quick Actions -->
        <!-- <mat-card class="quick-actions-card">
          <mat-card-header>
            <mat-card-title>Quick Actions</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="quick-actions-grid">
              <button mat-raised-button color="primary" (click)="navigateToModule('/user-management')">
                <mat-icon>people</mat-icon>
                Manage Users
              </button>
              <button mat-raised-button color="accent" (click)="navigateToModule('/content-moderation')">
                <mat-icon>report</mat-icon>
                Review Reports
              </button>
              <button mat-raised-button color="warn" (click)="navigateToModule('/events')">
                <mat-icon>event</mat-icon>
                Manage Events
              </button>
              <button mat-raised-button (click)="navigateToModule('/meetups')">
                <mat-icon>group</mat-icon>
                Manage Meetups
              </button>
              <button mat-raised-button (click)="navigateToModule('/analytics')">
                <mat-icon>analytics</mat-icon>
                View Analytics
              </button>
              <button mat-raised-button (click)="exportData()">
                <mat-icon>download</mat-icon>
                Export Data
              </button>
            </div>
          </mat-card-content>
        </mat-card> -->
      }
    </div>